<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="paint.css">
    <link rel="icon" href="Assets/Images/MadonnaIcon.jpg">
    <title>Tribuna Of The Uffizi</title>
  </head>
  <body class="bg-dark">  
    <div class="vw-100 vh-100 position-fixed intro-Cover"></div><!--Covers painting to prevent panning or zooming on load-->
    <section class="intro-content text-center">
      <div class="text-intro-content block">
        <h1 class="intro-Content-Header">Tribuna Of The Uffizi</h1>
        <div class="line-center block" style="background: white; width: 80%; height: 2px; margin: auto"></div>
          <p class="info-header">Discover the history of a 105 paintings, scupltures, and people all depicted in a single masterpiece.
            <br>
            <br> -Click and drag to move the painting.
            <br> -Use the mouse wheel / pinch gesture / + / -  to zoom in and out.
            <br> -Use the buttons in the top right corner to reset viewing window.
          </p>
          <br>
          <p class= "info text-left"><b>Tribuna Of The Uffizi</b> is littered with copies of masterclass paintings, and sculptures. 
            Prominent artists, diplomats, and connoisseurs fill the room in a vain display. The shear amount of works 
            depicted is impressive, but overwhelming. So much history is clustered into one painting, makes sorting 
            through the collection is historical figures and pieces cumbersome.
            <br>
            <br>
            Sort through the 100+ paintings, sculptures, and people:
            depicted in Johan Zoffanyâ€™s <b>Tribuna of the Uffizi</b>. 
            <br>-Click on any person or object to discover its history. 
            <br>-Bring up the collection list to highlight a specific work or group of works.           
          </p>
          <button type="button" class="btn btn-primary">Explore Project</button>
          <button type="button" class="btn btn-secondary">Learn More</button>       
      </div>      
    </section>
    
    <div class="artContainer">
      <div class="artInfo p-2">
        <h1 id="artTitle"></h1>
        <div class="row text-center"><p id="artAuthor" class="col"></p><p id="artMedium" class="col"></p></div>
        <div class="text-center">
          <div class="artThumbnail"></div>
          <button id="zoomToObject" class="btn btn-primary mt-1">zoom to object</button>
        </div>
        <div class="w-100 h-25 overflow-auto mt-1">
          <p>Lorem epsum. Filler text, need about 100 words to fill up this paragraph to guess how im gonna style it. Will
            I need to acount for text overflow only a lot of words will help me guess. Stop reading this there is nothing
            informative about this block of text. It is only for decoration. Lorem epsum. Filler text, need about 100 words to fill up this paragraph to guess how im gonna style it. Will
            I need to acount for text overflow only a lot of words will help me guess. Stop reading this there is nothing
            informative about this block of text. It is only for decoration. Lorem epsum. Filler text, need about 100 words to fill up this paragraph to guess how im gonna style it. Will
            I need to acount for text overflow only a lot of words will help me guess. Stop reading this there is nothing
            informative about this block of text. It is only for decoration. Lorem epsum. Filler text, need about 100 words to fill up this paragraph to guess how im gonna style it. Will
            I need to acount for text overflow only a lot of words will help me guess. Stop reading this there is nothing
            informative about this block of text. It is only for decoration. 
          </p> 
        </div>
      </div>     
      <div class="hideArtInfo"><p>&#9658</p></div>  
    </div>
    

    <div class="zoomControl">
      <button id="reset" class="btn btn-primary m-1" title="reset zoom">&#8635</button>
      <button id="revealAll" class="btn btn-primary m-1" title="hide/show object outlines">&#11034</button>
      <button class="btn btn-primary m-1" onclick= "window.location.href='../../index.html'" title="return to main menu">&#8962</button>
    </div>
    <div id="zoomContainer" class="vw-100 vh-100 overflow-hidden">
        <svg  id="zoomElement" class="hotspot" width="5804" height="4607" version="1.1" viewBox="0 0 5804 4607" xmlns="http://www.w3.org/2000/svg">
            <g   fill="#d3d3d3" fill-opacity=".2">
              <path data-name="Tribuna of the Uffizi" d="m0.5 0.5h5803v4606h-5803z" stroke="#000" stroke-width="1px" fill-opacity="0"/>             
              <path data-name="Madonna and Child with Saint Cathrine" data-author="Titian's Workshop" data-medium="painting" d="m1610.1 586.23 525.22 4.8408 2.4204 670.45-539.75-2.4204z"/>         
              <path data-name="Charity" data-author="Guido Reni" data-medium="painting" d="m997.2 332.59-19.363 813.25 585.73 145.22 7.2612-723.7z"/>
              <path data-name="St. John the Baptist in the Wilderness" data-author="Raphael Workshop Assistants" data-medium="painting" d="m2187.7 651.78 922.68 14.551 3.4237 1056.2-932.1 3.4236z"/>
              <path data-name="Madonna" data-author="Guido Reni" data-medium="painting" d="m3137 592.72 539.23 4.2796 0.856 689.87-556.35-5.1355z"/>
 
              <path data-name="Cleopatra" data-author="Guido Reni" data-medium="painting" d="m3691.6 588.44 586.31-221.68 21.398 908.99-595.72 112.13z"/>
              <path data-name="Pope Leo X with Cardinals Giulio de' Medici and Luigi de' Rossi" data-author="Raphael" data-medium="painting" d="m5472.5 1.2105 29.051 1074.9 297.77-53.26 4.1997-1022.3z"/>
              <path data-name="Venus with a Satyr and Cupids" data-author="Annibale Carracci" data-medium="painting" d="m0.5 0.5h205.78l766.91 310.63-23.11 802.86-948.36-231.1z"/>
              <path data-name="Portrait of Galileo Galilei" data-author="Justus Sustermans" data-medium="painting" d="m1321.5 1463.2 232.81 47.076-3.4237 295.29-229.39-29.101z"/>
              <path data-name="Adoration of the Christ Child (Correggio)" data-author="Antonio da Correggio" data-medium="painting" d="m 781.95533,1208.0363 536.23257,111.362 -1.2105,674.2247 -131.9398,-10.8941 c 0,0 -28.7423,-85.0407 -107.7307,-6.0523 -9.2582,9.2582 -307.45614,-22.9987 -307.45614,-22.9987 z"/>
              <!--ARTIST HAS NO WIKI--><path data-name="Dancing Faun" data-author="Pietro Cipriani" data-medium="sculpture" d="m 1633.956,1968.191 c 8.5571,0.981 12.9499,7.7723 15.1041,18.7512 -5.932,33.1953 1.8839,147.3337 8.8617,178.9669 13.5238,61.3095 -12.0934,122.497 -4.2796,185.7352 2.5898,20.9595 7.2026,45.0002 17.9744,61.6264 -0.7584,9.1323 -5.1228,19.7117 -0.8559,28.2455 -5.0347,15.6541 -3.4237,29.4706 -3.4237,46.2198 -3.5933,52.6658 30.3295,82.489 32.525,130.1002 0,2.3447 3.3417,12.9209 1.7119,14.5507 -12.3047,5.1456 -18.9477,17.2358 -26.5336,24.8217 -1.3691,1.3691 0.8559,6.3775 0.8559,7.7033 0,9.8402 10.0717,38.3172 14.5507,42.7961 2.2719,2.272 5.1203,26.5184 8.5592,29.9573 2.7577,2.7578 -4.8393,28.8052 -5.1355,29.1014 -1.3682,1.3682 0,11.5717 0,13.6948 -0.049,4.3075 0.404,8.3572 3.4237,6.8473 46.0064,2.1578 241.0924,9.5577 250.7852,-25.6776 0.4749,-0.4749 1.053,1.6133 -0.8559,2.5677 2.6067,-31.0263 -6.5542,-61.6594 -5.9914,-90.7278 0,-5.9172 2.3457,-32.1132 0.8559,-35.0928 -2.6792,-5.3584 -1.7119,-30.6558 -1.7119,-36.8046 -12.6502,-53.9457 -4.1418,-127.9546 -12.8388,-158.3457 -2.9669,-2.9669 3.7613,-28.5831 4.2796,-29.1014 2.3229,-2.3229 -1.5274,-19.5017 -5.1355,-30.8132 -15.7819,-14.9455 -36.628,-47.9742 -80.4567,-41.0842 0,0 4.2796,-93.2956 -8.5593,-128.3884 -12.8388,-35.0928 -0.8558,-71.0416 -21.398,-87.3041 1.7119,-15.4066 12.8388,-17.9744 18.8303,-59.9146 0,0 11.127,-29.1014 23.1099,5.1355 11.9829,34.2369 35.9487,48.7876 35.9487,48.7876 0,0 7.7033,61.6264 23.1099,80.4567 15.4066,18.8303 14.5507,52.2113 14.5507,52.2113 0,0 5.9915,13.6948 11.127,15.4066 5.1355,1.7119 -41.0843,5.1355 5.1355,25.6777 46.2199,20.5421 81.3127,25.6777 89.8719,15.4066 8.5592,-10.2711 -65.906,-71.0416 -77.8889,-76.1771 -11.983,-5.1355 5.8721,-62.4029 -11.983,-109.5581 -6.6524,-17.5689 -6.8473,-29.1013 -18.8303,-36.8046 -5.1355,-10.2712 -15.4066,-30.8133 -20.5421,-41.0844 -4.2796,-3.4236 -5.1355,-7.7033 -9.4151,-11.1269 -4.2797,-3.4237 -5.9915,-49.6435 -57.3468,-69.3297 0,0 4.2796,-10.2711 11.1269,-11.983 6.8474,-1.7118 23.11,-71.8974 -41.9402,-94.1514 -65.0501,-22.254 -69.3297,57.3468 -69.3297,57.3468 0,0 -36.8046,-11.127 -46.2198,-5.9915 0,0 -9.4151,-13.6947 -18.8303,-13.6947 0,0 6.8474,-42.7962 -36.8046,-35.9488 -24.8218,0 -45.3639,-5.1355 -67.6179,0 -22.254,5.1356 -70.1857,26.5336 -81.3127,65.0501 -11.127,38.5165 68.4738,23.9659 68.4738,23.9659 0,0 36.8047,21.398 74.4653,17.9743 z"/>
          </g>
        </svg>   
     </div>
    
    <!--JavaScript -->    
    <script src="../../node_modules/@panzoom/panzoom/dist/panzoom.min.js"></script>

    <!-- Core JS -->  
    <script src="../../node_modules/jquery/dist/jquery.min.js"></script>  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="../../node_modules/bootstrap/dist/js/bootstrap.min.js" ></script>

    <!--Controls zooming and panning. Along with +, -, and reset buttons-->
    <!--Painting native width: 5803, height: 4606-->
    <script>
      const panzoom = Panzoom(document.getElementById('zoomElement'),
      {        
        startX: -($('#zoomElement').width())/2,
        startY: -($('#zoomElement').height())/2,
        startScale: 1,
        minScale:$(document).width()/5803,
        maxScale: 2,
        contain: 'outside',
        step: .075
      }
    )
    //Hide intro container and zoom out
    $(".btn-primary").click(function(){
          $("section").hide();
          $(".intro-Cover").hide();
          panzoom.zoom($("#zoomContainer").width()/5803);
    })
    //Saves position of last mouse movement. Used to compare with pointer position on click.
    $("#zoomContainer").on("mousemove", function(e) { $(this).data("initcoords", { x: e.clientX, y: e.clientY }); }); 
    
    //Compares pointer position of last mouse movement(before pointer was pressed down) to pointer position when the
    //mouse is released. If the position has not changed then art container opens and gets info about clicked object.
    $("path").click(function(event){

      var initCoords = $("#zoomContainer").data("initcoords") || { x: 0, y: 0 };
      
      if (event.clientX === initCoords.x && event.clientY === initCoords.y) {
        $(".artContainer").show();        
        $("#artTitle").text($(event.target).attr("data-name"));
        $("#artAuthor").text($(event.target).attr("data-author"));
        $("#artMedium").text($(event.target).attr("data-medium"));        
      }
      $(this).data('initcoords', {x:-1, y:-1});
    })
    //Hide art container
    $(".hideArtInfo").click(function(){
      $(".artContainer").hide();
    })
    //Zooms/Pans/Highlights the pre-selected object
    $("#zoomToObject").click(function() {
          //function to zoom on object
          panzoom.zoom(2)
          //function to pan to object
          panzoom.pan(-100,200)
          //Highlight selected object
          
    })
    //Zoom on pointer location
    document.getElementById('zoomElement').addEventListener('wheel', e => {
      panzoom.zoomWithWheel(e)
    })
    //Reset viewing window
    document.getElementById('reset').addEventListener('click', function(){ panzoom.zoom($(document).width()/5803); setTimeout(() => panzoom.pan(100, 100)); })
    </script>
 
    <!--Intro Buttons-->
    <!--Consoladate(?) to above script-->
    <script>
      $(document).ready(function() {

        $(".btn-secondary").click(function(){
          $(".info").show();
        })

        $("#revealAll").click(function(){
          $("path").toggle();
        })

        $.ajax({
        type: "GET",
        url: "https://www.wikipedia.org/w/api.php?action=query&list=search&srsearch=Craig%20Noone&format=json",
        
        success: function (data, textStatus, jqXHR) {
            console.log(data);
        },
        error: function (errorMessage) {
          "Could not retrieve text."
        }
    });
      });  
    </script>
  </body>
</html>